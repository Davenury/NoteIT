(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{105:function(t,e,n){},143:function(t,e,n){"use strict";n.r(e);var o=n(0),i=n.n(o),s=n(11),a=n.n(s),r=(n(96),n(97),n(13)),c=n(14),l=n(21),p=n(20),u=n(25),d=n(183),h=(n(98),n(184)),j=n(170),b=n(171),O=n(172),g=n(174),f=n(182),v=n(173),x=n(3),m=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(x.jsxs)(h.a,{maxWidth:"sm",fullWidth:!0,open:this.props.openPopup,onClose:this.props.closePopup,children:[Object(x.jsx)(j.a,{id:"alert-dialog-title",children:this.props.note.title}),Object(x.jsxs)(b.a,{children:[Object(x.jsx)(O.a,{id:"alert-dialog-description",children:this.props.note.content}),Object(x.jsxs)(v.a,{hover:!0,children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Creation Date"}),Object(x.jsx)("th",{children:"Modification Date"}),Object(x.jsx)("th",{children:"Version"})]})}),Object(x.jsx)("tbody",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:this.props.note.created}),Object(x.jsx)("td",{children:this.props.note.modified}),Object(x.jsx)("td",{children:this.props.note.version})]})})]})]}),Object(x.jsx)(g.a,{children:Object(x.jsx)(f.a,{onClick:this.props.closePopup,color:"primary",children:"Close"})})]})}}]),n}(i.a.Component),P=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(x.jsxs)(h.a,{maxWidth:"sm",fullWidth:!0,open:this.props.openPopup,onClose:this.props.closePopup,children:[Object(x.jsxs)(j.a,{id:"alert-dialog-title",children:["Delete Note ",this.props.note.title,"?"]}),Object(x.jsxs)(g.a,{children:[Object(x.jsx)(d.a,{onClick:this.props.closePopup,variant:"outline-primary",children:"Don't delete Note"}),Object(x.jsx)(d.a,{onClick:this.props.deleteNoteAndClose,variant:"danger",children:"Delete Note"})]})]})}}]),n}(i.a.Component),y=n(77),C=n(38),k=n.n(C),D=n(180),w=n(178),U=n(175),F=(n(105),function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(t){var o;Object(r.a)(this,n),(o=e.call(this,t)).type="Created";var i="",s="";return null!==o.props.note&&(i=o.props.note.title,s=o.props.note.content,o.type="Updated"),o.state={title:i,content:s},o.onInputChange=o.onInputChange.bind(Object(u.a)(o)),o.onSubmitForm=o.onSubmitForm.bind(Object(u.a)(o)),o}return Object(c.a)(n,[{key:"onInputChange",value:function(t){this.setState(Object(y.a)({},t.target.name,t.target.value))}},{key:"reload",value:function(){window.location.reload(!1)}},{key:"onSubmitForm",value:function(){var t=this,e=new XMLHttpRequest,n=document.getElementById(this.getID()),o=new FormData(n);e.addEventListener("load",(function(){406===e.status?k()("Error!",e.responseText,"error"):k()("Note "+t.type,"","success").then((function(){t.reload()}))})),e.addEventListener("error",(function(){k()("Something went wrong!","We're sorry, but something went wrong, please contact administrator","error").then((function(){t.reload()}))})),e.open("POST",this.props.actionUrl),e.send(o),n.addEventListener("submit",(function(t){t.preventDefault()}))}},{key:"getID",value:function(){return"form"+this.type}},{key:"render",value:function(){return Object(x.jsxs)("form",{id:this.getID(),children:[Object(x.jsx)(D.a,{m:2,children:Object(x.jsx)(w.a,{id:"standard-basic",label:"Title",type:"text",name:"title",value:this.state.title,onChange:this.onInputChange})}),Object(x.jsxs)(D.a,{m:2,children:[Object(x.jsx)(U.a,{id:"standard-basic",label:"Content",type:"text",name:"content",value:this.state.content,onChange:this.onInputChange,rowsMin:5,className:"textArea"}),Object(x.jsx)("br",{})]}),Object(x.jsx)(D.a,{m:2,children:Object(x.jsx)(d.a,{variant:"secondary",type:"submit",onClick:this.onSubmitForm,children:"Created"===this.type?"Add new Note":"Update this Note"})})]})}}]),n}(i.a.Component)),N=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"prepareUrlForUpdateNote",value:function(){return this.props.note.baseURL+"update_note/"+this.props.note.id}},{key:"render",value:function(){return Object(x.jsxs)(h.a,{style:{textAlign:"center"},maxWidth:"sm",fullWidth:!0,open:this.props.openPopup,onClose:this.props.closePopup,children:[Object(x.jsxs)(j.a,{id:"alert-dialog-title",children:["Update ",this.props.note.title]}),Object(x.jsx)(b.a,{children:Object(x.jsx)(F,{actionUrl:this.prepareUrlForUpdateNote(),note:this.props.note})}),Object(x.jsx)(g.a,{children:Object(x.jsx)(d.a,{onClick:this.props.closePopup,variant:"outline-primary",children:"Close"})})]})}}]),n}(i.a.Component),S=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(t){var o;return Object(r.a)(this,n),(o=e.call(this,t)).props=t,o.state={showDetailsPopup:!1,showDeletePopup:!1,showUpdatePopup:!1},o.toggleDeletePopup=o.toggleDeletePopup.bind(Object(u.a)(o)),o.toggleUpdatePopup=o.toggleUpdatePopup.bind(Object(u.a)(o)),o.toggleDetailsPopup=o.toggleDetailsPopup.bind(Object(u.a)(o)),o.deleteNoteAndClosePopup=o.deleteNoteAndClosePopup.bind(Object(u.a)(o)),o}return Object(c.a)(n,[{key:"toggleDeletePopup",value:function(){this.setState({showDeletePopup:!this.state.showDeletePopup})}},{key:"toggleUpdatePopup",value:function(){this.setState({showUpdatePopup:!this.state.showUpdatePopup})}},{key:"toggleDetailsPopup",value:function(){this.setState({showDetailsPopup:!this.state.showDetailsPopup})}},{key:"deleteNoteAndClosePopup",value:function(){var t=new XMLHttpRequest;t.addEventListener("load",(function(){k()("Note deleted!","","success").then((function(t){window.location.reload(!1)}))})),t.open("POST",this.props.note.baseURL+"delete_note/"+this.props.note.id),t.send(),this.toggleDeletePopup()}},{key:"render",value:function(){return Object(x.jsxs)("div",{children:[this.state.showDeletePopup?Object(x.jsx)(P,{openPopup:this.toggleDeletePopup,closePopup:this.toggleDeletePopup,deleteNoteAndClose:this.deleteNoteAndClosePopup,note:this.props.note}):null,this.state.showDetailsPopup?Object(x.jsx)(m,{openPopup:this.toggleDetailsPopup,closePopup:this.toggleDetailsPopup,note:this.props.note}):null,this.state.showUpdatePopup?Object(x.jsx)(N,{openPopup:this.toggleUpdatePopup,closePopup:this.toggleUpdatePopup,note:this.props.note}):null,Object(x.jsx)(d.a,{variant:"success",onClick:this.toggleDetailsPopup,children:"Show details"}),Object(x.jsx)(d.a,{onClick:this.toggleUpdatePopup,variant:"info",children:"Update"}),Object(x.jsx)(d.a,{onClick:this.toggleDeletePopup,variant:"danger",children:"Delete"})]})}}]),n}(i.a.Component),_=function(){function t(e,n){Object(r.a)(this,t),this.baseURL=n,this._title=e.title,this._content=e.content,this._created=e.created,this._modified=e.modified,this._version=e.version,this._id=e.id,this.actions=Object(x.jsx)(S,{note:this})}return Object(c.a)(t,[{key:"title",get:function(){return this._title}},{key:"content",get:function(){return this._content}},{key:"created",get:function(){return this.prepareDate(this._created)}},{key:"modified",get:function(){return this.prepareDate(this._modified)}},{key:"version",get:function(){return this._version}},{key:"id",get:function(){return this._id}},{key:"prepareDate",value:function(t){return new Date(1e3*t).toLocaleDateString("en-GB")}}]),t}(),L=n(78),A=n.n(L),I=n(176),T=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(t){var o;return Object(r.a)(this,n),(o=e.call(this,t)).columns=[{dataField:"title",text:"Title Click to sort!",sort:!0},{dataField:"created",text:"Creation date Click to sort!",sort:!0},{dataField:"modified",text:"Last Modification Date Click to sort!",sort:!0},{dataField:"version",text:"Version"},{text:"Actions",dataField:"actions"}],o.props=t,o}return Object(c.a)(n,[{key:"render",value:function(){return Object(x.jsx)("div",{children:Object(x.jsx)(A.a,{classes:"bootstrapTable",keyField:"id",data:this.props.notes,columns:this.columns,bootstrap4:!0,hover:!0,caption:Object(x.jsx)("h3",{children:Object(x.jsx)(I.a,{variant:"info",children:"Click on Column to sort!"})})})})}}]),n}(i.a.Component),W=n(177),E=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(t){var o;return Object(r.a)(this,n),(o=e.call(this,t)).state={notes:void 0,isFetching:!1},o.props=t,o}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.mounted=!0,this.getNotes()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"getNotes",value:function(){var t=this;this.setState({isFetching:!0}),fetch(this.props.baseUrl+"get_all_notes").then((function(t){return t.json()})).then((function(e){return t.setState({isFetching:!1}),e.notes.map((function(e){return new _(e,t.props.baseUrl)}))})).then((function(e){t.mounted&&t.setState({notes:e,isFetching:!1})})).catch((function(e){console.log(e),t.setState({isFetching:!1})}))}},{key:"render",value:function(){return void 0===this.state.notes&&!0===this.state.isFetching?Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Looking for notes..."}),Object(x.jsx)(W.a,{color:"secondary"})]}):void 0===this.state.notes?Object(x.jsx)("div",{children:Object(x.jsx)("p",{children:"Looks like you don't have any notes. Create one now!"})}):Object(x.jsx)("div",{children:Object(x.jsx)(T,{baseURL:this.props.baseUrl,notes:this.state.notes})})}}]),n}(i.a.Component),M="https://polsourcetask.davenury.repl.co/";var R=function(){return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(F,{note:null,actionUrl:M+"create_note"}),Object(x.jsx)(E,{baseUrl:M})]})},B=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,186)).then((function(e){var n=e.getCLS,o=e.getFID,i=e.getFCP,s=e.getLCP,a=e.getTTFB;n(t),o(t),i(t),s(t),a(t)}))};a.a.render(Object(x.jsx)(i.a.StrictMode,{children:Object(x.jsx)(R,{})}),document.getElementById("root")),B()},96:function(t,e,n){},97:function(t,e,n){},98:function(t,e,n){}},[[143,1,2]]]);
//# sourceMappingURL=main.b8e1d8a7.chunk.js.map